{% extends 'base.html.twig' %}

{% block title %}Accueil - EventHub{% endblock %}

{% block body %}
    <main class="container">
        <div class="events-section flex">
                        <h2 class="section-title flex">
                <span class="events-count">{{ events.getTotalItemCount }}</span> Événements à venir
            </h2>
        </div>

        <div class="events-list flex">
            {% for event in events %}
                <a href="{{ path('app_event_show', {'id': event.id}) }}" class="event-card-link">
                    <div class="event-card">
                        {% if event.image %}
                            <img src="{{ asset(event.image) }}" alt="Image de l'événement" class="event-image">
                        {% endif %}
                        <div class="event-title-bar">
                            <h3 class="event-title">{{ event.title }}</h3>
                        </div>
                        <div class="event-details flex">
                            <div class="event-info">
                                <p class="event-date">
                                    <span>🗓️</span>
                                    {{ event.startDate ? event.startDate|date('d/m/Y à H:i') : 'Non définie' }}
                                </p>
                                <p class="event-location">
                                    <span>📍</span>
                                    {{ event.location ?: 'Non défini' }}
                                </p>
                            </div>
                        </div>
                    </div>
                </a>
            {% else %}
                <p class="no-events-message">Aucun événement public pour le moment.</p>
            {% endfor %}
        </div>
        <div class="navigation">
    {{ knp_pagination_render(events) }}
</div>
    </main>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/searchbar.js') }}"></script>
{% endblock %}